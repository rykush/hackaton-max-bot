import { useState } from 'react';
import { CellAction, Panel } from '@maxhub/max-ui';
import './App.css';

const App = () => {
  const [expandedTopic, setExpandedTopic] = useState(null);
  const [expandedQuestion, setExpandedQuestion] = useState(null);
  const [closingQuestion, setClosingQuestion] = useState(null);
  const [closingTopic, setClosingTopic] = useState(null);

  const topics = [
    {
      id: 1,
      title: 'Публичные консультации',
      questions: [
        {
          id: 1,
          question: 'Кто может принять участие в публичных консультациях?',
          answer: 'В публичных консультациях может принять участие любой желающий: представители бизнеса, юристы, эксперты, общественные организации и просто граждане. Публичные обсуждения проводятся на онлайн площадках (обязательно) и в иных формах'
        },
        {
          id: 2,
          question: 'Как принять участие в публичных консультациях?',
          answer: 'Необходимо авторизоваться на портале для публичных обсуждений (авторизация на https://regulation.gov.ru/ осуществляется через ЕСИА), зайти в карточку интересующего Вас проекта, после изучения проекта ответить на вопросы по нему либо прикрепить файл с отзывом'
        },
        {
          id: 3,
          question: 'Сроки публичных консультаций',
          answer: 'Продолжительность публичных консультаций зависит от степени регулирующего воздействия проекта акта и для федеральных проектов составляет: для проектов низкой степени - 5 рабочих дней, для проектов средней степени - 15 рабочих дней, для проектов высокой степени - 20 рабочих дней. В субъектах РФ и муниципальных образованиях могут устанавливаться сроки публичных консультаций, отличные от федеральных'
        },
        {
          id: 4,
          question: 'Что делать, если я обнаружил ошибку по размещению проекта?',
          answer: 'В правом верхнем углу нажмите кнопку "народный контроль" (восклицательный знак в круге) и сообщите об обнаруженной ошибке. Информация поступит в уполномоченный орган для обработки'
        },
        {
          id: 5,
          question: 'Будут ли рассмотрены мои предложения в рамках публичных консультаций?',
          answer: 'Орган-разработчик обязан рассмотреть все оставленные на портале для публичных обсуждений комментарии, указать информацию об их учете или неучете с обоснованием позиции. Отзывы участников публичных консультаций оформляются в виде сводки предложений, которая также служит основой для подготовки заключения об ОРВ Минэкономразвития России'
        },
        {
          id: 6,
          question: 'Чем обсуждение отличается от голосования?',
          answer: 'В отличие от голосования, где побеждает большинство, в публичных консультациях важна аргументация. Каждое содержательное замечание, подкреплённое фактами и правовым обоснованием, расчетом издержек и выгод, рассматривается и может повлиять на итоговый текст акта'
        }
      ]
    },
    {
      id: 2,
      title: 'Терминология и процедуры',
      questions: [
        {
          id: 7,
          question: 'Что такое оценка регулирующего воздействия?',
          answer: 'ОРВ - процедура анализа проблем и целей государственного регулирования, определения возможных вариантов достижения целей, оценка связанных с ними позитивных и негативных эффектов с привлечением к обсуждению адресатов регулирования с целью выбора наиболее эффективного варианта. Оценка направлена на недопущение введения избыточных требований и ограничений, возникновения необоснованных расходов хозяйствующих субъектов, бюджетов бюджетной системы РФ'
        },
        {
          id: 8,
          question: 'Что такое оценка применения обязательных требований?',
          answer: 'ОПОТ - это процедура оценки достижения целей введения регулирования с целью принятия необходимых корректирующих действий с учетом фактических показателей и результатов применения требований'
        },
        {
          id: 9,
          question: 'Что такое обязательные требования?',
          answer: 'Обязательные требования - это содержащиеся в нормативных правовых актах (далее - НПА) требования, которые связаны с осуществлением предпринимательской и иной экономической деятельности и оценка соблюдения которых осуществляется в рамках государственного контроля (надзора), муниципального контроля, привлечения к административной ответственности, предоставления лицензий и иных разрешений, аккредитации, оценки соответствия продукции, иных форм оценки и экспертизы.'
        },
        {
          id: 10,
          question: 'Чем обязательные требования отличаются от иных обязанностей и запретов?',
          answer: 'Обязательные требования отличает наличие процедуры оценки соблюдения и санкций (мер ответственности/ допуск к деятельности). Два необходимых условия установления обязательных требований: 1. наличие риска причинения вреда (ущерба) охраняемым законом ценностям, на устранение которого направлено установление обязательных требований, 2. возможность и достаточность установления обязательных требований в качестве мер защиты охраняемых законом ценностей.'
        },
        {
          id: 11,
          question: 'Что такое публичные консультации?',
          answer: 'Это официальная процедура, в ходе которой государственные органы размещают проекты нормативных актов для широкого обсуждения. Цель — собрать замечания и предложения от бизнеса, экспертов и граждан до принятия окончательного решения, повысив тем самым качество регулирования'
        },
        {
          id: 12,
          question: 'Что относится к иной экономической деятельности?',
          answer: 'При определении иной экономической деятельности рекомендуется руководствоваться правовой позицией Верховного Суда Российской Федерации, изложенной в определении Судебной коллегии по экономическим спорам Верховного Суда Российской Федерации от 16 сентября 2020 г. N 305-ЭС20-4513, согласно которой под экономической деятельностью понимается взаимосвязанная совокупность процессов, возникающих в результате деятельности общества, связанной с производством, распределением, обменом, потреблением ресурсов и благ, и целью которых является получение максимального положительного результата при потреблении ресурсов и благ. Понятие инвестиционной деятельности является частью понятия экономической деятельности.'
        },
        {
          id: 13,
          question: 'Что такое сводный отчет и заключение об ОРВ?',
          answer: 'Сводный отчет о проведении ОРВ проекта НПА - документ, содержащий выводы по итогам проведения разработчиком исследования о возможных вариантах решения проблемы, выявленной в соответствующей сфере общественных отношений, а также результаты расчетов издержек и выгод применения указанных вариантов ее решения. Размещается разработчиком до проведения публичных консультаций. Заключение об ОРВ - завершающий процедуру ОРВ документ, подготавливаемый уполномоченным органом и содержащий выводы о наличии либо отсутствии положений, вводящих избыточные обязанности, запреты и ограничения для субъектов предпринимательской и иной экономической деятельности или способствующих их введению, а также положений, способствующих возникновению необоснованных расходов субъектов предпринимательской и иной экономической деятельности, а также бюджетов всех уровней, о наличии либо отсутствии в сводном отчете достаточного обоснования решения проблемы предложенным способом регулирования и об учете принципов установления обязательных требований, установленных статьей 4 Федерального закона N 247-ФЗ'
        }
      ]
    },
    {
      id: 3,
      title: 'Схемы процедур',
      questions: [
        {
          id: 14,
          question: 'Схема ОРВ для обязательных требований',
          answer: 'https://www.economy.gov.ru/material/file/66efbcac56833b76492cdaa10e8bbcd2/orv_1.pdf'
        },
        {
          id: 15,
          question: 'Схема ОРВ для обязанностей, запретов и ответственности',
          answer: 'https://www.economy.gov.ru/material/file/c688d5d5436ee7e58f2f1d9b911bcd4a/orv_2.pdf'
        },
        {
          id: 16,
          question: 'Схема ОПОТ',
          answer: 'https://www.economy.gov.ru/material/file/be0db316107da0b8908e9eb446a50a70/shema_provedeniya_ocenki_primeneniya_obyazatelnyh_trebovaniy.pdf'
        }
      ]
    },
    {
      id: 4,
      title: 'Предметная область оценки регулирующего воздействия',
      questions: [
        {
          id: 17,
          question: 'Предметная область ОРВ проектов федеральных актов',
                    answer: 'а) проекты актов в сфере предпринимательской и иной экономической деятельности: содержащие требования, которые связаны с осуществлением предпринимательской и иной экономической деятельности и оценка соблюдения которых осуществляется в рамках государственного контроля (надзора), муниципального контроля, привлечения к административной ответственности, предоставления лицензий и иных разрешений, аккредитации, оценки соответствия продукции, иных форм оценки и экспертизы (далее - обязательные требования); регулирующие отношения в области организации и осуществления государственного контроля (надзора); регулирующие отношения по взиманию налогов и сборов в Российской Федерации, отношения, возникающие в процессе осуществления налогового контроля, обжалования актов налоговых органов, действий (бездействия) их должностных лиц; регулирующие отношения в области создания, реорганизации и ликвидации юридических лиц и осуществления ими своей деятельности; регулирующие отношения в области установления, применения и исполнения обязательных требований к продукции или связанным с ними процессам проектирования (включая изыскания), производства, строительства, монтажа, наладки, эксплуатации, хранения, перевозки, реализации и утилизации, к выполнению работ и оказанию услуг; регулирующие отношения в области порядка и правил регулирования таможенного дела в Российской Федерации; регулирующие отношения в области оценки соответствия, в области безопасности процессов производства; регулирующие отношения в области применения мер ответственности за нарушения законодательства Российской Федерации в указанных в абзацах втором - восьмом настоящего подпункта сферах; б) проекты актов, устанавливающие требования к осуществлению полномочий органов государственной власти субъектов Российской Федерации по предметам совместного ведения Российской Федерации и субъектов Российской Федерации и осуществлению полномочий органов местного самоуправления.'
        },
        {
          id: 18,
          question: 'Предметная область ОРВ проектов актов субъектов РФ',
          answer: 'Проекты НПА субъектов РФ: 1) устанавливающие новые или изменяющие ранее предусмотренные нормативными правовыми актами субъектов РФ обязательные требования, связанные с осуществлением предпринимательской и иной экономической деятельности, оценка соблюдения которых осуществляется в рамках государственного контроля (надзора), привлечения к административной ответственности, предоставления лицензий и иных разрешений, аккредитации, оценки соответствия продукции, иных форм оценок и экспертиз; 2) устанавливающие новые или изменяющие ранее предусмотренные нормативными правовыми актами субъектов РФ обязанности и запреты для субъектов предпринимательской и инвестиционной деятельности; 3) устанавливающие или изменяющие ответственность за нарушение нормативных правовых актов субъектов РФ, затрагивающих вопросы осуществления предпринимательской и иной экономической деятельности.'
        },
        {
          id: 19,
          question: 'Предметная область ОРВ проектов муниципальных актов',
          answer: 'Проекты муниципальных правовых актов муниципальных образований, на территориях которых расположены административные центры субъектов РФ, а также иных муниципальных образований, включенных в соответствующий перечень законом субъекта РФ, устанавливающие новые или изменяющие ранее предусмотренные муниципальными правовыми актами обязательные требования для субъектов предпринимательской и иной экономической деятельности, обязанности для субъектов инвестиционной деятельности.'
        }
      ]
    },
    {
      id: 5,
      title: 'Подготовка и подача предложений',
      questions: [
        {
          id: 20,
          question: 'Как правильно оформить предложение?',
          answer: 'Предложение должно быть: Конкретным: Укажите номер статьи, пункта, абзаца, к которому даете комментарий. Аргументированным: Объясните, почему нужна правка, приведите расчёты, ссылки на законы или примеры негативных последствий. Конструктивным: Предложите свой вариант формулировки'
        },
        {
          id: 21,
          question: 'Как подать предложение к проекту правового акта?',
          answer: 'После изучения проекта акта и подготовки обоснованных предложений к нему, их необходимо направить органу-разработчику средствами официального сайта. Для этого авторизуйтесь на портале для публичных обсуждений (авторизация на https://regulation.gov.ru/ осуществляется через ЕСИА, на региональных порталах может потребоваться предварительная регистрация), в карточке проекта акта ответьте на вопросы по нему либо прикрепите файл с отзывом и предложениями. Важно соблюдать сроки публичных консультаций. После окончания публичных консультаций разработчик не сможет принять и рассмотреть ваши предложения'
        },
        {
          id: 22,
          question: 'Можно ли предлагать совершенно новые нормы, которых нет в проекте?',
          answer: 'Это возможно, однако, регулятор может не учесть их, если предложения не связаны с текстом проекта НПА. Шансы на принятие предложений выше, если они напрямую связаны с предметом регулирования обсуждаемого проекта и решают конкретную проблему в этой области. Если Ваши предложения затрагивают корректировку действующего регулирования, то лучше направить их в рамках процедур оценки применения или экспертизы. Если это принципиально новое регулирование, то предложения могут быть направлены для рассмотрения в профильный орган или рабочие группы.'
        },
        {
          id: 23,
          question: 'Можно ли предлагать корректировку действующего регулирования в сфере обсуждаемого проекта?',
          answer: 'Регулятор не сможет учесть Ваши предложения в рамках работы над обсуждаемым проектом, если предложения не связаны с текстом проекта НПА. Шансы на принятие предложений выше, если они напрямую связаны с предметом регулирования обсуждаемого проекта и решают конкретную проблему в этой области. Если Ваши предложения затрагивают корректировку действующего регулирования, то лучше направить их в рамках процедур оценки применения обязательных требований или экспертизы'
        },
        {
          id: 24,
          question: 'На что обратить внимание в проекте при подготовке отзыва на него?',
          answer: 'При подготовке отзыва рекомендуем сфокусироваться на следующих аспектах: «Цель и последствия»: Внимательно изучите паспорт проекта и обоснование. Соответствует ли текст проекта заявленным целям? Какие негативные последствия (финансовые, административные, операционные) новые нормы могут создать для вашей деятельности? «Конкретика и определённость»: Проверьте, все ли термины и процедуры прописаны чётко и однозначно. Отсутствие неопределенных формулировок («может», «в отдельных случаях», «иные основания») снижает риски произвольного толкования закона. «Соответствие вышестоящему праву»: Убедитесь, что проект не противоречит нормам федеральных законов, а орган обладает полномочиями на его принятие. «Переходные положения и сроки»: Обратите внимание на сроки вступления акта в силу и наличие переходного периода. Помните, обязательные требования должны вступать в силу 1 марта или 1 сентября, но не ранее, чем через 90 дней после опубликования. Достаточно ли вам времени, чтобы подготовиться к новым требованиям? «Финансово-экономическое обоснование»: Проанализируйте, есть ли в проекте расчёт затрат бизнеса и государства на исполнение новых норм. Если его нет или он нереалистичен — это сильный аргумент, приведите свои расчеты. «Внутренние противоречия»: Выявите противоречия между разными частями документа, а также с другими правовыми актами в этой же сфере. Ваша главная задача — показать регулятору реальные последствия принятия документа и предложить конкретные, измеримые и конструктивные правки.'
        }
      ]
    },
    {
      id: 6,
      title: 'Расчет издержек регулирования',
      questions: [
        {
          id: 25,
          question: 'Официальная методика расчета издержек регулирования',
          answer: 'Приказ Минэкономразвития России от 1 февраля 2024 г. № 54 «Об утверждении методики оценки стандартных издержек субъектов предпринимательской и иной экономической деятельности, возникающих в связи с исполнением требований регулирования»'
        },
        {
          id: 26,
          question: 'Есть ли приложения, которые помогут автоматизировать расчет и разобраться с методикой стандартных издержек?',
          answer: 'Да, Вы можете обратиться к Онлайн калькулятору регулирующего воздействия https://calculator-rv.ru/user/login/'
        },
                {
          id: 27,
          question: 'Как рассчитать издержки бизнеса от нового регулирования?',
          answer: 'Для расчета издержек используйте методику стандартных издержек (МСИ). Основные шаги: 1) Определите все новые обязанности, которые вводит проект (получение документов, заполнение форм, проведение экспертиз и т.д.). 2) Для каждой обязанности рассчитайте: время на выполнение × стоимость часа работы специалиста + прямые затраты (госпошлины, услуги экспертов). 3) Умножьте на количество субъектов, которых коснется требование, и частоту выполнения (разово, ежегодно и т.д.). 4) Суммируйте все издержки. Полученная цифра — это ваш аргумент в пользу смягчения или отмены избыточных требований.'
        },
        {
          id: 28,
          question: 'Что делать, если у меня нет точных данных для расчета издержек?',
          answer: 'Используйте экспертные оценки и данные из открытых источников: средние зарплаты специалистов по отрасли, типовые расценки на услуги (например, стоимость экспертизы), статистику по количеству субъектов в отрасли. Даже приблизительный, но обоснованный расчет лучше, чем его отсутствие. Главное — показать порядок величины затрат и объяснить логику расчета.'
        }
      ]
    },
    {
      id: 7,
      title: 'Полезные ресурсы и контакты',
      questions: [
        {
          id: 29,
          question: 'Где найти информацию о публичных консультациях?',
          answer: 'Федеральный портал: https://regulation.gov.ru/ - все федеральные проекты НПА. Региональные порталы: ссылки на них размещены на федеральном портале в разделе "Субъекты РФ". Telegram-канал "Регуляторная гильотина и ОРВ": https://t.me/reguliarnayaguillotina - новости, разъяснения, анонсы важных обсуждений.'
        },
        {
          id: 30,
          question: 'Куда обратиться за консультацией по ОРВ?',
          answer: 'Минэкономразвития России: Департамент оценки регулирующего воздействия - orv@economy.gov.ru. Уполномоченный по защите прав предпринимателей: https://ombudsmanbiz.ru/ - помощь бизнесу в защите интересов. Общественные организации: РСПП, "Деловая Россия", "Опора России" и др. - могут помочь с подготовкой коллективных предложений.'
        },
        {
          id: 31,
          question: 'Где найти методические материалы по ОРВ?',
          answer: 'Официальный сайт Минэкономразвития России: https://www.economy.gov.ru/ - раздел "Оценка регулирующего воздействия". Портал regulation.gov.ru - раздел "Методические материалы". Онлайн-калькулятор РВ: https://calculator-rv.ru/ - инструкции и примеры расчетов.'
        }
      ]
    },
    {
      id: 8,
      title: 'Экспертиза и оценка применения',
      questions: [
        {
          id: 32,
          question: 'Что такое экспертиза НПА?',
          answer: 'Экспертиза НПА - это процедура оценки действующих нормативных правовых актов на предмет наличия в них положений, необоснованно затрудняющих ведение предпринимательской и инвестиционной деятельности. Экспертиза проводится по инициативе бизнеса, общественных организаций или уполномоченных органов.'
        },
        {
          id: 33,
          question: 'Как инициировать экспертизу действующего НПА?',
          answer: 'Для инициирования экспертизы необходимо направить предложение в уполномоченный орган (Минэкономразвития России для федеральных актов, профильный орган субъекта РФ для региональных). Предложение должно содержать: обоснование необходимости экспертизы, описание проблем, возникающих при применении акта, предложения по его совершенствованию.'
        },
        {
          id: 34,
          question: 'Чем экспертиза отличается от ОПОТ?',
          answer: 'ОПОТ (оценка применения обязательных требований) - это плановая процедура, которая проводится регулярно для всех обязательных требований. Экспертиза - внеплановая процедура, инициируемая по конкретному запросу. ОПОТ оценивает достижение целей регулирования, экспертиза - наличие избыточных барьеров для бизнеса.'
        },
        {
          id: 35,
          question: 'Как узнать о результатах ОПОТ?',
          answer: 'Результаты ОПОТ публикуются на портале regulation.gov.ru в разделе "Оценка применения обязательных требований". Там же размещаются планы проведения ОПОТ и можно направить предложения по корректировке требований на основе результатов оценки.'
        }
      ]
    },
    {
      id: 9,
      title: 'Особые случаи и исключения',
      questions: [
        {
          id: 36,
          question: 'Есть ли проекты, которые не проходят ОРВ?',
          answer: 'Да, ОРВ не проводится для: проектов, содержащих сведения, составляющие государственную тайну; проектов о ратификации международных договоров; проектов, принимаемых в связи с чрезвычайными обстоятельствами; проектов, направленных на устранение противоречий в законодательстве без изменения регулирования по существу.'
        },
        {
          id: 37,
          question: 'Можно ли сократить сроки публичных консультаций?',
          answer: 'Сокращение сроков публичных консультаций возможно только в исключительных случаях по решению уполномоченного органа при наличии обоснования необходимости срочного принятия акта. При этом срок не может быть менее 3 рабочих дней.'
        },
        {
          id: 38,
          question: 'Что делать, если проект принят без проведения ОРВ?',
          answer: 'Если проект, подлежащий ОРВ, был принят без проведения оценки, это является основанием для признания акта недействующим. Можно обратиться с жалобой в прокуратуру или оспорить акт в суде. Также можно направить обращение в Минэкономразвития России для проведения проверки.'
        }
      ]
    },
    {
      id: 10,
      title: 'Практические советы',
      questions: [
        {
          id: 39,
          question: 'Как повысить шансы на учет моих предложений?',
          answer: 'Для повышения шансов на учет предложений: 1) Подавайте предложения как можно раньше в период публичных консультаций. 2) Объединяйтесь с коллегами по отрасли для подачи коллективных предложений. 3) Подкрепляйте предложения конкретными расчетами и примерами. 4) Предлагайте конструктивные альтернативы, а не только критикуйте. 5) Участвуйте в очных обсуждениях, если они проводятся.'
        },
        {
          id: 40,
          question: 'Стоит ли участвовать в публичных консультациях, если я не эксперт в праве?',
          answer: 'Да, обязательно! Вы - эксперт в своей сфере деятельности и знаете практические проблемы лучше, чем разработчики проекта. Ваш опыт и конкретные примеры из практики - это ценный вклад. Юридическую формулировку предложений можно доработать с помощью юристов или отраслевых ассоциаций.'
        },
        {
          id: 41,
          question: 'Как отследить судьбу моих предложений?',
          answer: 'После окончания публичных консультаций разработчик обязан разместить на портале сводку предложений с указанием, какие предложения учтены, а какие нет, и почему. Также публикуется доработанный текст проекта и заключение об ОРВ. Вы можете подписаться на уведомления по интересующему проекту на портале regulation.gov.ru.'
        },
        {
          id: 42,
          question: 'Что делать, если мои предложения не учли?',
          answer: 'Если ваши предложения не учтены: 1) Изучите обоснование отказа в сводке предложений. 2) Если обоснование неубедительно, направьте повторное обращение с дополнительными аргументами. 3) Обратитесь в Минэкономразвития России для проверки качества проведения ОРВ. 4) После принятия акта можете инициировать его экспертизу или оспорить в суде, если он нарушает ваши права.'
        }
      ]
    }
  ];

 const toggleTopic = (topicId) => {
    if (expandedTopic === topicId) {
      setClosingTopic(topicId);
      setTimeout(() => {
        setExpandedTopic(null);
        setClosingTopic(null);
        setExpandedQuestion(null);
        setClosingQuestion(null);
      }, 400);
    } else {
      setClosingTopic(null);
      setExpandedTopic(topicId);
      setExpandedQuestion(null);
      setClosingQuestion(null);
    }
  };

  const toggleQuestion = (questionId) => {
    if (expandedQuestion === questionId) {
      setClosingQuestion(questionId);
      setTimeout(() => {
        setExpandedQuestion(null);
        setClosingQuestion(null);
      }, 400);
    } else {
      setClosingQuestion(null);
      setExpandedQuestion(questionId);
    }
  };

  return (
    <div className="dictionary-wrapper">
      <h1>Словарь по ОРВ</h1>
      
      {topics.map((topic) => (
        <div key={topic.id} className="topic-item">
          <CellAction
            height="normal"
            mode="primary"
            onClick={() => toggleTopic(topic.id)}
            showChevron
          >
            {topic.title}
          </CellAction>
          
          {(expandedTopic === topic.id || closingTopic === topic.id) && (
            <div className={`questions-container ${closingTopic === topic.id ? 'closing' : ''}`}>
              {topic.questions.map((q) => (
                <div key={q.id} className={`question-container ${closingQuestion === q.id ? 'closing' : ''}`}>
                  <CellAction
                    height="normal"
                    mode="secondary"
                    onClick={() => toggleQuestion(q.id)}
                    showChevron
                  >
                    {q.question}
                  </CellAction>
                  
                  {(expandedQuestion === q.id || closingQuestion === q.id) && (
                    <Panel 
                      mode="secondary" 
                      className={`answer-panel ${closingQuestion === q.id ? 'closing' : ''}`}
                    >
                      <p>{q.answer}</p>
                    </Panel>
                  )}
                </div>
              ))}
            </div>
          )}
        </div>
      ))}
    </div>
  );
};

export default App;